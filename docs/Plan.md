# План автоматизации тестирования приложения "Путешествие дня"

### Перечень автоматизируемых сценариев

**Предусловие:**
1. Открыть сайт "Путешествие дня" http://localhost:8080

**1. Успешная покупка тура по дебетовой карте при заполнении заявки валидными данными с последующей проверкой сохранения информации о способе и статусе платежа в БД MySQL:**

Шаги:
1. Нажать на кнопку "Купить"
2. Заполнить поля валидными данными
3. Нажать на кнопку "Продолжить"
4. Подключиться к БД MySQL и убедиться, что данные об оплате сохранились в таблице payment_entity;

ОР: Появляется уведомление об успешной покупке тура, данные об оплате сохраняются в БД

**2. Успешная покупка тура по дебетовой карте при заполнении заявки валидными данными с последующей проверкой сохранения информации о способе и статусе платежа в БД PostgreSQL:**

Шаги:
1. Нажать на кнопку "Купить"
2. Заполнить поля валидными данными
3. Нажать на кнопку "Продолжить"
4. Подключиться к БД PostgreSQL и убедиться, что данные об оплате сохранились в таблице payment_entity;

ОР: Появляется уведомление об успешной покупке тура, данные об оплате сохраняются в БД

**3. Успешное оформление тура в кредит при заполнении заявки валидными данными c последующей проверкой сохранения информации о способе и статусе платежа в БД MySQL:**

Шаги:
1. Нажать на кнопку "Купить в кредит"
2. Заполнить поля валидными данными
3. Нажать на кнопку "Продолжить"
4. Подключиться к БД MySQL и убедиться, что данные о заявке сохранились в таблице credit_request_entity;

ОР: Появляется уведомление об успешной операции, данные о заявке сохраняются в БД

**4. Успешное оформление тура в кредит при заполнении заявки валидными данными c последующей проверкой сохранения информации о способе и статусе платежа в БД PostgreSQL:**

Шаги:
1. Нажать на кнопку "Купить в кредит"
2. Заполнить поля валидными данными
3. Нажать на кнопку "Продолжить"
4. Подключиться к БД PostgreSQL и убедиться, что данные о заявке сохранились в таблице credit_request_entity;

ОР: Появляется уведомление об успешной операции, данные о заявке сохраняются в БД

**5. Заполнение поля "Номер карты" заявки на покупку тура по дебетовой карте номером из заданного разработчиками набора карт, сравнение полученного от Банка ответа с заданным разработчиками, проверка сохранения информации о способе и статусе платежа в БД:**
6. Заполнение поля "Номер карты" заявки на оформление тура в кредит номером из заданного разработчиками набора карт, сравнение полученного от Банка ответа с заданным разработчиками, проверка сохранения информации о способе и статусе платежа в СУБД;
**7. Заполнение поля "Номер карты" буквами:**

Шаги:
1. Нажать на кнопку "Купить"
2. Ввести в поле "Номер карты" буквы

ОР: Буквы не вводятся в поле "Номер карты"

**8. Отправка формы с заполненным полем "Номер карты" коротким номером:**

Шаги:
1. Нажать на кнопку "Купить"
2. Ввести в поле "Номер карты" короткий номер карты
3. Заполнить остальные поля валидными данными
4. Отправить форму

ОР:  Под полем "Номер карты" появляется увдомление о неверном формате карты

**9. Заполнение поля "Номер карты" номером из 18 цифр (карта Maestro):**

Шаги:
1. Нажать на кнопку "Купить"
2. Ввести в поле "Номер карты" номер из 18 цифр
3. Заполнить остальные поля валидными данными
4. Нажать на кнопку "Продолжить"

ОР:  Появляется уведомление об успешной операции

**10. Заполнение поля "Номер карты" знаками и символами**:

Шаги:
1. Нажать на кнопку "Купить"
2. Ввести в поле "Номер карты" знаки препинания и символы
3. Заполнить остальные поля валидными данными
4. Нажать на кнопку "Продолжить"

ОР:  Знаки препинания и символы не вводятся в поле "Номер карты", заявка не отправляется

**11. Заполнение полей "Месяц" и "Год" данными карты с истекшим сроком действия:**

Шаги:
1. Нажать на кнопку "Купить"
2. В поля "Месяц" и "Год" ввести данные карты с истекшим сроком действия 
3. Заполнить остальные поля валидными данными
4. Нажать на кнопку "Продолжить"

ОР:  Под полем "Год" появляется ошибка "Истек срок действия карты", заявка не отправляется

**12. Заполнение поля "Владелец" на латинице только именем:**

Шаги:
1. Нажать на кнопку "Купить"
2. В поле "Владелец" ввести только имя на латинице
3. Заполнить остальные поля валидными данными
4. Нажать на кнопку "Продолжить"

ОР:  Под полем "Владелец" появляется ошибка "Поле обязательно для заполнения", заявка не отправляется

**13. Заполнение поля "Владелец" кириллицей:**

Шаги:
1. Нажать на кнопку "Купить"
2. В поле "Владелец" ввести имя на кириллице
3. Заполнить остальные поля валидными данными
4. Нажать на кнопку "Продолжить"

ОР:  Под полем "Владелец" появляется ошибка "Поле обязательно для заполнения", заявка не отправляется

**14. Заполнение поля "Владелец" цифрами:**

Шаги:
1. Нажать на кнопку "Купить"
2. В поле "Владелец" ввести цифры
3. Заполнить остальные поля валидными данными
4. Нажать на кнопку "Продолжить"

ОР:  Под полем "Владелец" появляется ошибка "Поле обязательно для заполнения", заявка не отправляется

**15. Заполнение поля "Владелец" знаками и символами:**

Шаги:
1. Нажать на кнопку "Купить"
2. В поле "Владелец" ввести знаки и символы
3. Заполнить остальные поля валидными данными
4. Нажать на кнопку "Продолжить"

ОР:  Под полем "Владелец" появляется ошибка "Поле обязательно для заполнения", заявка не отправляется

**16. Заполнение поля "Владелец" набором букв из латиницы и кириллцы:**

Шаги:
1. Нажать на кнопку "Купить"
2. В поле "Владелец" ввести набор букв из латиницы и кириллицы
3. Заполнить остальные поля валидными данными
4. Нажать на кнопку "Продолжить"

ОР:  Под полем "Владелец" появляется ошибка "Поле обязательно для заполнения", заявка не отправляется

**17. Заполнение поля "CVC/CVV" знаками и символами:**

Шаги:
1. Нажать на кнопку "Купить"
2. В поле "CVC/CVV" ввести знаки препинания и спецсимволы
3. Заполнить остальные поля валидными данными
4. Нажать на кнопку "Продолжить"

ОР:  Поле "CVC/CVV" не заполняется знаками препинания и спец символами, заявка не отправляется, при отправке заявки под полем "CVC/CVV" появляется ошибка "Поле обязательно для заполнения"

**18. Заполнение поля "CVC/CVV" буквами:**

Шаги:
1. Нажать на кнопку "Купить"
2. В поле "CVC/CVV" ввести буквы
3. Заполнить остальные поля валидными данными
4. Нажать на кнопку "Продолжить"

ОР:  Поле "CVC/CVV" не заполняется буквами, заявка не отправляется, при отправке заявки под полем "CVC/CVV" появляется ошибка "Поле обязательно для заполнения"

**19. Заполнение поля "CVC/CVV" номером, количество цифр которого превышает 3:**

Шаги:
1. Нажать на кнопку "Купить"
2. В поле "CVC/CVV" ввести больше 3х цифр
3. Заполнить остальные поля валидными данными
4. Нажать на кнопку "Продолжить"

ОР:  Цифры, введенные после 3-ей в поле "CVC/CVV" не пропечатываются, заявка не отправляется, при отправке заявки под полем "CVC/CVV" появляется ошибка "Поле обязательно для заполнения"

**20. Заполнение поля "CVC/CVV" 2 цифрами и последующая отправка формы:**

Шаги:
1. Нажать на кнопку "Купить"
2. В поле "CVC/CVV" ввести 2 цифры
3. Заполнить остальные поля валидными данными
4. Нажать на кнопку "Продолжить"

ОР:  Заявка не отправляется, под полем "CVC/CVV" появляется ошибка: "Неверный формат"

**21. Отправка пустой формы для покупки тура по дебетовой карте:**

Шаги:
1. Нажать на кнопку "Купить"
2. Нажать на кнопку "Продолжить"

ОР:  Заявка не отправляется, под всеми полями появляются ошибки о том, что поле обязательно для заполнения

**22. Отправка пустой формы для оформления кредита на покупку тура:**

Шаги:
1. Нажать на кнопку "Купить в кредит"
2. Нажать на кнопку "Продолжить"

ОР:  Заявка не отправляется, под всеми полями появляются ошибки о том, что поле обязательно для заполнения


### Перечень используемых инструментов с обоснованием выбора

1. Язык написания автотестов - Java 11;
2. JUnit - платформа для написания и запуска автотестов. Данный фреймворк содержит набор параметров, позволяющих упростить взаимодействие с кодом, а также написание самих автотестов.
3. Gradle - позволяет использовать необходимые для написания тестов библиотеки без непосредственного их скачивания, что способствует ускорению работы и отсутствию зависимости кода от локальных файлов.
4. Selenide - инструмент, построенный на базе Selenium, однако значительно более удобный в использовании. Selenide предлагает автоматическое управление браузером. Тесты, созданные с помощью Selenide, лаконичные и читаемые за счет значительного сокращения кода. Также Selenide обладает массой удобных методов для работы с элементами веб-страниц.
5. Lombok - добавляет дополнительную функциональность в Java, например, автоматическое добавление геттеров и сеттеров, что позволяет значительно уменьшить объем кода.
6. Docker Desktop для работы с окружением и базами данных.
7. Apache Commons DBUtils - библиотека, значительно упрощающая взаимодействие с JDBC.
8. Allure для генерации отчетов. Данный фреймворк генерирует более наглядные отчеты, делает скриншоты в случае падения тестов, а также классифицирует дефекты как относящиеся к продукту или к автотестам.
9. Git и GitHub - необходимы для отслеживания вносимых в проект изменений, последующего удаленного размещения и хранения проекта.

### Перечень и описание возможных рисков при автоматизации

1. Некорректное поведение локальной системы;
2. Возникновение проблем в разворачивании инфраструктуры, в т.ч. симулятора банковских сервисов;
3. Возникновение конфликта в процессе взаимодействия сервиса с СУБД;
4. Появление необходимости внедрения новых тестов в результате выявления особенностей системы, не заявленных в тех. документации;
5. Отсутствие документации;
6. Возникновение конфликта PostgreSQL b MySQL при контейнеризации.

### Интервальная оценка с учётом рисков (в часах)

- Подготовка окружения - 5 ч
- Написание кода - 30 ч
- Подготовка документации - 5 ч
- **Итого - 40 ч**

### План сдачи работ

Сдача автотестов - 29.01.2022

Предоставление отчетной документации - 31.01.2022